import{_ as s,o as a,c as n,a as e}from"./app.287c3e30.js";const t="/images/http1.png",u=JSON.parse('{"title":"http2\u4F7F\u7528","description":"","frontmatter":{"title":"http2\u4F7F\u7528","date":"2021-12-01T00:00:00.000Z"},"headers":[{"level":3,"title":"\u5F00\u542F\u4E4B\u540E\u5BF9\u6BD4","slug":"\u5F00\u542F\u4E4B\u540E\u5BF9\u6BD4"},{"level":3,"title":"\u914D\u7F6E server push","slug":"\u914D\u7F6E-server-push"}],"relativePath":"md/http2\u4F7F\u7528.md","lastUpdated":1661572155000}'),p={name:"md/http2\u4F7F\u7528.md"},l=e('<h1 id="http2\u4F7F\u7528" tabindex="-1">http2\u4F7F\u7528 <a class="header-anchor" href="#http2\u4F7F\u7528" aria-hidden="true">#</a></h1><p>nginx \u914D\u7F6E\u4E86http2\u6709\u4E00\u6BB5\u65F6\u95F4\uFF0C\u4F7F\u7528http2\u7684\u591A\u8DEF\u590D\u7528\u4E3A\u4E86\u89E3\u51B3 http1.1\u7BA1\u9053\u5316\u7684\u961F\u5934\u963B\u585E\uFF0C\u53EF\u4EE5\u5E76\u884C\u591A\u4E2A\u8BF7\u6C42\u548C\u54CD\u5E94\u3002</p><p>\u5BF9\u4E8E\u6027\u80FD\u6D4B\u8BD5\uFF0C\u63A8\u8350\u7F51\u7AD9 <a href="https://www.webpagetest.org/" target="_blank" rel="noreferrer">https://www.webpagetest.org/</a></p><p>\u60F3\u8981\u5728chrome\u67E5\u770B\u4F7F\u7528http-x\uFF0C\u53EF\u4EE5\u5728 \u7F51\u7EDC\u9009\u62E9\u5361\u4E0A\u9009\u62E9 Protocol \uFF0C\u901A\u8FC7 Protocol \u67E5\u770B <img src="'+t+`" alt=""></p><h3 id="\u5F00\u542F\u4E4B\u540E\u5BF9\u6BD4" tabindex="-1">\u5F00\u542F\u4E4B\u540E\u5BF9\u6BD4 <a class="header-anchor" href="#\u5F00\u542F\u4E4B\u540E\u5BF9\u6BD4" aria-hidden="true">#</a></h3><p>http1:</p><image src="/images/http2.png" style="width:50%;"></image><p>http2:</p><image src="/images/http3.png" style="width:50%;"></image><p>\u538B\u6D4B\u5BF9\u6BD4:</p><image src="/images/http4.png" style="width:50%;"></image><h3 id="\u914D\u7F6E-server-push" tabindex="-1">\u914D\u7F6E server push <a class="header-anchor" href="#\u914D\u7F6E-server-push" aria-hidden="true">#</a></h3><p>\u670D\u52A1\u7AEF\u4E3B\u52A8\u5411\u5BA2\u6237\u7AEF\u63A8\u52A8\u5185\u5BB9\uFF0C\u5982\u540C\u201Cprefetch\u201D\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">server {</span></span>
<span class="line"><span style="color:#A6ACCD;">	listen 443 ssl http2</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span></span>
<span class="line"><span style="color:#A6ACCD;">	http2_push_preload on</span></span>
<span class="line"><span style="color:#A6ACCD;">	loacation {</span></span>
<span class="line"><span style="color:#A6ACCD;">		http2_push /styles.css</span></span>
<span class="line"><span style="color:#A6ACCD;">	}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>\u9700\u8981\u9075\u5B88\u540C\u6E90\u7B56\u7565</li><li>\u6CE8\u610F\u7F13\u5B58</li></ul><p>\u6D4F\u89C8\u5668\u7531\u4E8E\u7F13\u5B58\u7684\u5B58\u5728\uFF0C\u5373\u4F7F\u63A8\u9001\u4E86\u4E5F\u53EA\u4F1A\u4F7F\u7528\u7F13\u5B58\uFF0C\u6D6A\u8D39\u5E26\u5BBD\u3002 \u907F\u514D\u7F13\u5B58\u53EA\u8BBE\u7F6E\u9996\u6B21\u63A8\u52A8\uFF0C\u6839\u636Ecookie\u5224\u65AD\u662F\u5426\u662F\u7B2C\u4E00\u6B21\u8BBF\u95EE\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">server {</span></span>
<span class="line"><span style="color:#A6ACCD;">	location = /demo.html {</span></span>
<span class="line"><span style="color:#A6ACCD;">			add_header Set-Cookie &quot;session=1&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">			add_header Link $resources;</span></span>
<span class="line"><span style="color:#A6ACCD;">	}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># \u907F\u514D\u7F13\u5B58\u53EA\u8BBE\u7F6E\u9996\u6B21\u63A8\u52A8\uFF0C\u6839\u636Ecookie\u5224\u65AD\u662F\u5426\u662F\u7B2C\u4E00\u6B21\u8BBF\u95EE</span></span>
<span class="line"><span style="color:#A6ACCD;">map $http_cookie $resources {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;~*session=1&quot; &quot;&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    default &quot;&lt;/style.css&gt;; as=style; rel=preload&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,17),o=[l];function r(c,i,h,d,A,C){return a(),n("div",null,o)}const g=s(p,[["render",r]]);export{u as __pageData,g as default};
